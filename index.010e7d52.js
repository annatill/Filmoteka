const e={buttonRefHome:document.querySelector("#button-header-home"),buttonRefLibrary:document.querySelector("#button-header-library"),divRefButtonLibrary:document.querySelector(".header-logo--position"),divRefWatchedQueue:document.querySelector(".header-button__library"),filmNameRef:document.querySelector("#film-name"),filmVotesRef:document.querySelector("#votes"),filmAverageVotesRef:document.querySelector("#average-votes"),filmPopularityRef:document.querySelector("#popularity"),filmOriginalTitleRef:document.querySelector("#original-title"),filmGenreRef:document.querySelector("#genre"),filmOverviewRef:document.querySelector("#film-overview"),backdropRef:document.querySelector("#backdrop"),filmInfoCloseBtnRef:document.querySelector(".js-close"),filmImageRef:document.querySelector("#film-modal-image"),filmAddToWatchedBtnRef:document.querySelector("#js-watched"),filmAddToQueueBtnRef:document.querySelector("#js-queue"),filmWatchTrailerBtnRef:document.querySelector("#js-trailer"),galleryListRef:document.querySelector("#js-list"),WATCHED:"watched",QUEUE:"queue"};e.buttonRefLibrary.addEventListener("click",(function(){e.divRefButtonLibrary.classList.add("header-logo__library--position"),e.buttonRefLibrary.classList.add("header-nav--active"),e.buttonRefHome.classList.remove("header-nav--active"),e.divRefWatchedQueue.style.display="flex"})),e.buttonRefHome.addEventListener("click",(function(){e.divRefButtonLibrary.classList.remove("header-logo__library--position"),e.buttonRefLibrary.classList.remove("header-nav--active"),e.buttonRefHome.classList.toggle("header-nav--active"),e.divRefWatchedQueue.style.display="none"}));var t=globalGenres=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];const n=[];(async()=>{try{const e=await(async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=cb1bcc244723619ea7f2217b5a84ccd8");return(await e.json()).results})();n.push(...e),console.log(n)}catch(e){console.error("Error:",e)}})().then((()=>{!function(n){const i=n.map((e=>{const{title:n,poster_path:i,id:o,release_date:a,genre_ids:r=[]}=e;if(!a)return;const c=a.slice(0,4);const d=function(e,t){const n=[];return e.forEach((e=>{const i=t.find((t=>t.id===e));i&&n.push(i.name)})),n.join(", ")}(r,t);return`<li class="movie" data-id=${o}>\n<img src="${`https://image.tmdb.org/t/p/w500${i}`}" width="395"/>\n<p class="movie__title">${n}</p>\n<p class="movie__genres">${d}</p>\n<p class="movie__year">${c}</p>\n</li>\n`})).join("");e.galleryListRef.insertAdjacentHTML("afterbegin",i)}(n)}));async function i(e){return await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=cb1bcc244723619ea7f2217b5a84ccd8`).then((e=>e.json()))}function o(t){const{original_title:n,genres:i,overview:o,popularity:a,vote_count:r,vote_average:c,poster_path:d,id:s}=t;console.log("object->",t);const{filmNameRef:l,filmVotesRef:m,filmAverageVotesRef:u,filmPopularityRef:f,filmOriginalTitleRef:y,filmGenreRef:v,filmOverviewRef:R,filmImageRef:g,filmAddToWatchedBtnRef:h,filmAddToQueueBtnRef:b,filmWatchTrailerBtnRef:p}=e;g.src=`https://image.tmdb.org/t/p/w500${d}`,g.alt=n,l.textContent=n,y.textContent=n,R.textContent=o,f.textContent=a.toFixed(1),m.textContent=r,u.textContent=c.toFixed(1);const L=i.map((e=>e.name));v.textContent=L.join(", "),h.dataset.id=s,b.dataset.id=s,p.dataset.id=s}const{backdropRef:a,filmImageRef:r}=e;function c(e){e.target.classList.contains("backdrop")&&(e.currentTarget.classList.add("is-hidden"),e.currentTarget.removeEventListener("click",c))}function d(e){"Escape"===e.code&&(a.classList.add("is-hidden"),document.removeEventListener("keydown",d))}function s(e){a.classList.add("is-hidden"),e.currentTarget.removeEventListener("click",s)}e.galleryListRef.addEventListener("click",(function(t){if("LI"!==t.target.nodeName)return;console.log(t.target.nodeName);const{backdropRef:n,filmInfoCloseBtnRef:a}=e;i(Number(t.target.dataset.id)).then((e=>{o(e)})).then((()=>{e.backdropRef.classList.remove("is-hidden")})),document.addEventListener("keydown",d),n.addEventListener("click",c),a.addEventListener("click",s)}));
//# sourceMappingURL=index.010e7d52.js.map
